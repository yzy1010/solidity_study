# BeggingContract - è®¨é¥­åˆçº¦

è¿™æ˜¯ä¸€ä¸ªåŸºäº Solidity çš„æ™ºèƒ½åˆçº¦ï¼Œå…è®¸ç”¨æˆ·å‘åˆçº¦åœ°å€å‘é€ä»¥å¤ªå¸è¿›è¡Œæèµ ï¼Œå¹¶æä¾›äº†å®Œæ•´çš„æèµ ç®¡ç†åŠŸèƒ½ã€‚

## ğŸ“‹ åŠŸèƒ½ç‰¹æ€§

### åŸºç¡€åŠŸèƒ½
- âœ… å…è®¸ç”¨æˆ·å‘åˆçº¦å‘é€ä»¥å¤ªå¸è¿›è¡Œæèµ 
- âœ… è®°å½•æ¯ä¸ªæèµ è€…çš„åœ°å€å’Œæèµ é‡‘é¢
- âœ… å…è®¸åˆçº¦æ‰€æœ‰è€…æå–æ‰€æœ‰æèµ çš„èµ„é‡‘
- âœ… æŸ¥è¯¢ç‰¹å®šåœ°å€çš„æèµ é‡‘é¢

### é¢å¤–æŒ‘æˆ˜åŠŸèƒ½
- âœ… **æèµ äº‹ä»¶**: è®°å½•æ¯æ¬¡æèµ çš„åœ°å€å’Œé‡‘é¢
- âœ… **æèµ æ’è¡Œæ¦œ**: æ˜¾ç¤ºæèµ é‡‘é¢æœ€å¤šçš„å‰3ä¸ªåœ°å€
- âœ… **æ—¶é—´é™åˆ¶**: å¯ä»¥è®¾ç½®ç‰¹å®šçš„æèµ æ—¶é—´æ®µ

## ğŸš€ åˆçº¦åŠŸèƒ½è¯¦è§£

### ä¸»è¦å‡½æ•°

1. **`donate()`** - æèµ å‡½æ•°
   - å…è®¸ç”¨æˆ·å‘åˆçº¦å‘é€ä»¥å¤ªå¸
   - è‡ªåŠ¨è®°å½•æèµ ä¿¡æ¯
   - æ”¯æŒé€šè¿‡ fallback å‡½æ•°ç›´æ¥è½¬è´¦

2. **`withdraw()`** - ææ¬¾å‡½æ•°
   - åªæœ‰åˆçº¦æ‰€æœ‰è€…å¯ä»¥è°ƒç”¨
   - æå–åˆçº¦ä¸­çš„æ‰€æœ‰èµ„é‡‘

3. **`getDonation(address donor)`** - æŸ¥è¯¢æèµ 
   - æŸ¥è¯¢ç‰¹å®šåœ°å€çš„æèµ æ€»é¢

4. **`getTopDonors()`** - è·å–æ’è¡Œæ¦œ
   - è¿”å›æèµ é‡‘é¢æœ€å¤šçš„å‰3ä¸ªåœ°å€å’Œå¯¹åº”é‡‘é¢

5. **`setDonationTimeLimit(uint256 startTime, uint256 endTime)`** - è®¾ç½®æ—¶é—´é™åˆ¶
   - åªæœ‰æ‰€æœ‰è€…å¯ä»¥è®¾ç½®
   - æ§åˆ¶æèµ çš„å¼€å§‹å’Œç»“æŸæ—¶é—´

### äº‹ä»¶
- `Donation(address indexed donor, uint256 amount)` - æèµ äº‹ä»¶
- `Withdrawal(address indexed owner, uint256 amount)` - ææ¬¾äº‹ä»¶
- `TimeLimitSet(uint256 startTime, uint256 endTime)` - æ—¶é—´é™åˆ¶è®¾ç½®äº‹ä»¶

## ğŸ›  æŠ€æœ¯å®ç°

- **Solidity ç‰ˆæœ¬**: ^0.8.0
- **å®‰å…¨ç‰¹æ€§**:
  - ä½¿ç”¨ `onlyOwner` ä¿®é¥°ç¬¦ä¿æŠ¤å…³é”®å‡½æ•°
  - è¾“å…¥éªŒè¯å’Œé”™è¯¯å¤„ç†
  - é˜²æ­¢é‡å…¥æ”»å‡»
- **Gas ä¼˜åŒ–**: é«˜æ•ˆçš„æ’åºç®—æ³•å’Œæ•°æ®ç»“æ„

## ğŸ“ ä½¿ç”¨ç¤ºä¾‹

### åœ¨ Remix IDE ä¸­ä½¿ç”¨

1. **ç¼–è¯‘åˆçº¦**
   - é€‰æ‹© Solidity ç¼–è¯‘å™¨ç‰ˆæœ¬ 0.8.0 æˆ–æ›´é«˜
   - ç¼–è¯‘ `BeggingContract.sol`

2. **éƒ¨ç½²åˆçº¦**
   - é€‰æ‹© JavaScript VM æˆ–è¿æ¥åˆ°æµ‹è¯•ç½‘
   - ç‚¹å‡» "Deploy" éƒ¨ç½²åˆçº¦

3. **æµ‹è¯•åŠŸèƒ½**
   ```javascript
   // æèµ  1 ETH
   await contract.donate({value: ethers.utils.parseEther("1.0")})

   // æŸ¥è¯¢æèµ é‡‘é¢
   await contract.getDonation("0x...")

   // è·å–æ’è¡Œæ¦œ
   await contract.getTopDonors()

   // è®¾ç½®æ—¶é—´é™åˆ¶ï¼ˆæ—¶é—´æˆ³æ ¼å¼ï¼‰
   await contract.setDonationTimeLimit(startTime, endTime)

   // ææ¬¾ï¼ˆåªæœ‰æ‰€æœ‰è€…ï¼‰
   await contract.withdraw()
   ```

### æœ¬åœ°å¼€å‘å’Œæµ‹è¯•

1. **å®‰è£…ä¾èµ–**
   ```bash
   npm install --save-dev hardhat @nomiclabs/hardhat-waffle ethereum-waffle chai @nomiclabs/hardhat-ethers ethers
   ```

2. **è¿è¡Œæµ‹è¯•**
   ```bash
   npx hardhat test
   ```

3. **éƒ¨ç½²åˆ°æœ¬åœ°ç½‘ç»œ**
   ```bash
   npx hardhat run scripts/deploy.js --network localhost
   ```

## ğŸ”’ å®‰å…¨è€ƒè™‘

- åˆçº¦ä½¿ç”¨ `onlyOwner` ä¿®é¥°ç¬¦ä¿æŠ¤æ•æ„Ÿæ“ä½œ
- æ‰€æœ‰è¾“å…¥éƒ½ç»è¿‡éªŒè¯
- ä½¿ç”¨ `transfer()` è€Œä¸æ˜¯ `call()` æ¥å‘é€ä»¥å¤ªå¸ï¼Œé˜²æ­¢é‡å…¥æ”»å‡»
- æ—¶é—´é™åˆ¶åŠŸèƒ½é˜²æ­¢æ— é™æœŸæèµ 

## ğŸ“Š æµ‹è¯•è¦†ç›–

åˆçº¦åŒ…å«å®Œæ•´çš„æµ‹è¯•å¥—ä»¶ï¼Œè¦†ç›–ä»¥ä¸‹åœºæ™¯ï¼š
- âœ… åˆçº¦éƒ¨ç½²å’ŒåŸºæœ¬è®¾ç½®
- âœ… æèµ åŠŸèƒ½ï¼ˆåŒ…æ‹¬é›¶é‡‘é¢æ‹’ç»ï¼‰
- âœ… å¤šæ¬¡æèµ çš„ç´¯è®¡
- âœ… ææ¬¾åŠŸèƒ½ï¼ˆæƒé™æ§åˆ¶ï¼‰
- âœ… æ’è¡Œæ¦œåŠŸèƒ½
- âœ… æ—¶é—´é™åˆ¶è®¾ç½®
- âœ… Fallback å‡½æ•°åŠŸèƒ½

## ğŸŒ éƒ¨ç½²åˆ°æµ‹è¯•ç½‘

1. **é…ç½® Hardhat**
   - åœ¨ `hardhat.config.js` ä¸­é…ç½®æµ‹è¯•ç½‘
   - è®¾ç½®é’±åŒ…ç§é’¥å’Œ RPC URL

2. **éƒ¨ç½²è„šæœ¬**
   ```bash
   npx hardhat run scripts/deploy.js --network goerli
   # æˆ–
   npx hardhat run scripts/deploy.js --network sepolia
   ```

3. **éªŒè¯åˆçº¦**
   - åœ¨ Etherscan ä¸ŠéªŒè¯åˆçº¦ä»£ç 
   - æµ‹è¯•æ‰€æœ‰åŠŸèƒ½

## ğŸ“„ è®¸å¯è¯

MIT License - è¯¦è§ SPDX è®¸å¯è¯æ ‡è¯†ç¬¦

---

**æ³¨æ„**: è¿™æ˜¯ä¸€ä¸ªæ•™è‚²æ€§è´¨çš„åˆçº¦ï¼Œç”¨äºå­¦ä¹  Solidity ç¼–ç¨‹ã€‚åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨å‰è¯·è¿›è¡Œå……åˆ†çš„å®‰å…¨å®¡è®¡ã€‚

